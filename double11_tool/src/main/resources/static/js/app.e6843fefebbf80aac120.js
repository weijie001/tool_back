webpackJsonp([1],{"3zFr":function(e,t){},"4vHe":function(e,t,r){"use strict";var a=r("vTnW"),n=r.n(a),l=r("CbQR");var o=function(e){r("jvRC")},i=r("VU/8")(n.a,l.a,!1,o,"data-v-03c17937",null);t.default=i.exports},"9Pdv":function(e,t){},CbQR:function(e,t,r){"use strict";var a={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"headbar position-left"},[r("span",{staticClass:"navbar"},[r("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":"1","text-color":"#fff","active-text-color":"#ffd04b",mode:"horizontal"}},[r("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.$router.push("/")}}},[r("span",[e._v("主页")])])],1)],1)])},staticRenderFns:[]};t.a=a},IUeE:function(e,t){},NHnr:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a={};r.d(a,"selectUrl",function(){return pe}),r.d(a,"getInputParam",function(){return ve}),r.d(a,"getConfigFile",function(){return ge}),r.d(a,"getData",function(){return be}),r.d(a,"loginValid",function(){return _e}),r.d(a,"deleteFile",function(){return we}),r.d(a,"deleteProtoFile",function(){return ke}),r.d(a,"getTeamInfo",function(){return Fe});var n={};r.d(n,"getItems",function(){return ye}),r.d(n,"addItems",function(){return xe}),r.d(n,"getTables",function(){return Ie}),r.d(n,"exportData",function(){return $e});var l={};r.d(l,"getAccount",function(){return Ce}),r.d(l,"addAccount",function(){return Se}),r.d(l,"deleteAccount",function(){return qe}),r.d(l,"rebootServer",function(){return Ne});var o={};r.d(o,"runSql",function(){return Re}),r.d(o,"executeSql",function(){return De});var i={};r.d(i,"getPlayers",function(){return Pe}),r.d(i,"addPlayers",function(){return Ee});var s=r("7+uW"),u={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var c=r("VU/8")({name:"App"},u,!1,function(e){r("UIAq")},null,null).exports,m=r("/ocq"),d=r("4vHe"),h={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-menu",{attrs:{"default-active":"2"}},[r("el-submenu",{attrs:{index:"1"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-location"}),e._v(" "),r("span",[e._v("接口管理")])]),e._v(" "),r("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.handleRoute("interface/test")}}},[r("span",[e._v("接口测试")])]),e._v(" "),r("el-menu-item",{attrs:{index:"2"},on:{click:function(t){return e.handleRoute("interface/config")}}},[r("span",[e._v("接口配置")])]),e._v(" "),r("el-menu-item",{attrs:{index:"3"},on:{click:function(t){return e.handleRoute("interface/user")}}},[r("span",[e._v("账号配置")])])],2),e._v(" "),r("el-submenu",{attrs:{index:"2"}},[r("template",{slot:"title"},[r("i",{staticClass:"el-icon-menu"}),e._v(" "),r("span",[e._v("内容管理")])]),e._v(" "),r("el-menu-item",{attrs:{index:"1"},on:{click:function(t){return e.handleRoute("service/item")}}},[r("span",[e._v("背包")])]),e._v(" "),r("el-menu-item",{attrs:{index:"2"},on:{click:function(t){return e.handleRoute("service/player")}}},[r("span",[e._v("球员")])]),e._v(" "),r("el-menu-item",{attrs:{index:"3"},on:{click:function(t){return e.handleRoute("content/daochu")}}},[r("span",[e._v("表导出")])]),e._v(" "),r("el-menu-item",{attrs:{index:"4"},on:{click:function(t){return e.handleRoute("content/daoru")}}},[r("span",[e._v("表导入")])])],2)],1)},staticRenderFns:[]};var f={components:{MenuTree:r("VU/8")({name:"MenuTree",props:["title"],methods:{handleRoute:function(e){this.$router.push("/"+e)}}},h,!1,function(e){r("9Pdv")},"data-v-dfd07b72",null).exports},data:function(){return{input:""}}},p={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"menu-bar-container"},[t("el-menu",{staticClass:"menu-bar-width",attrs:{"default-active":"1"}},[t("menu-tree")],1)],1)},staticRenderFns:[]};var v=r("VU/8")(f,p,!1,function(e){r("3zFr")},"data-v-81445c1e",null).exports,g={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"main-container position-left"},[t("div",{staticClass:"main-content"},[t("keep-alive",[t("transition",{attrs:{name:"fade",mode:"out-in"}},[t("router-view")],1)],1)],1)])},staticRenderFns:[]};var b=r("VU/8")({data:function(){return{}},computed:{teamId:{get:function(){return this.$store.state.tab.teamId},set:function(e){this.$store.commit("updateTeamId",e)}},visible:{get:function(){return this.$store.state.tab.visible},set:function(e){this.$store.commit("updateVisible",e)}}}},g,!1,function(e){r("oOal")},"data-v-90372c08",null).exports,_={components:{HeadBar:d.default,NavBar:v,MainContent:b}},w={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"container"},[t("nav-bar"),this._v(" "),t("head-bar"),this._v(" "),t("main-content")],1)},staticRenderFns:[]};var k=r("VU/8")(_,w,!1,function(e){r("PJow")},"data-v-274e85c2",null).exports,F=r("mvHQ"),y=r.n(F),x=r("BO1k"),I=r.n(x),$=r("lHA8"),C=r.n($),S={res:"",req:"",pb:"",uri:"",pbItems:[],items:[],allItem:[],param:"{}",result:""},q={data:function(){return{ruleForm:S,ruleForm2:{teamName:"",tableId:""},teamId:"",dialogVisible:!1,rules:{pb:[{required:!0,message:"请选择PB",trigger:"change"}],uri:[{required:!0,message:"请选择URL",trigger:"change"}]}}},mounted:function(){this.teamId=this.$store.state.tab.teamId,this.$api.jk.selectUrl().then(function(e){for(var t=e.length,r=new C.a,a=0;a<t;a++)r.add(e[a].pb),S.allItem.push({value:e[a].uri,label:e[a].uri,res:e[a].res,req:e[a].req,pb:e[a].pb});var n=!0,l=!1,o=void 0;try{for(var i,s=I()(r.keys());!(n=(i=s.next()).done);n=!0){var u=i.value;S.pbItems.push({value:u,label:u})}}catch(e){l=!0,o=e}finally{try{!n&&s.return&&s.return()}finally{if(l)throw o}}})},methods:{handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},getTeamInfo:function(){var e=this;if("请选择账号"==this.teamId)this.$router.push("/interface/user");else{this.dialogVisible=!0;var t={teamId:this.teamId};this.$api.jk.getTeamInfo(t).then(function(t){e.ruleForm2.teamName=t.team_name,e.ruleForm2.tableId=t.table_id})}},submitForm:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r=sessionStorage.getItem("account"),a=sessionStorage.getItem("token"),n=sessionStorage.getItem("env");if(r&&a&&n){var l=JSON.parse(t.ruleForm.param),o=y()(l),i={req:void 0==t.ruleForm.req?"":t.ruleForm.req,res:void 0==t.ruleForm.res?"":t.ruleForm.res,uri:t.ruleForm.uri,data:o,account:r,token:a,env:n};t.$api.jk.getData(i).then(function(e){var t=y()(e,null,4);S.result=t})}else t.$confirm("请设置账号","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$router.push("/interface/user")}).catch(function(){})})},getPbParam:function(e){S.param="{}",S.items=[],S.uri="";for(var t=0;t<S.allItem.length;t++)S.allItem[t].pb==e&&S.items.push({value:S.allItem[t].value,label:S.allItem[t].value,res:S.allItem[t].res,req:S.allItem[t].req,pb:S.allItem[t].pb})},getParam:function(e){S.param="{}";for(var t=0;t<S.items.length;t++)if(S.items[t].value==e){S.res=S.items[t].res,S.req=S.items[t].req;break}if(""!=S.req){var r={req:S.req};this.$api.jk.getInputParam(r).then(function(e){var t=y()(e,null,4);S.param=t})}},test:function(){}}},N={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"tag"},[r("el-tag",{on:{click:e.getTeamInfo}},[e._v(e._s(e.teamId))])],1),e._v(" "),r("div",[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"left","label-width":"100px"}},[r("el-form-item",{attrs:{label:"PB",prop:"pb"}},[r("el-select",{attrs:{placeholder:"请选择PB"},on:{change:e.getPbParam},model:{value:e.ruleForm.pb,callback:function(t){e.$set(e.ruleForm,"pb",t)},expression:"ruleForm.pb"}},e._l(e.ruleForm.pbItems,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"URL",prop:"uri"}},[r("el-select",{attrs:{placeholder:"请选择URL"},on:{change:e.getParam},model:{value:e.ruleForm.uri,callback:function(t){e.$set(e.ruleForm,"uri",t)},expression:"ruleForm.uri"}},e._l(e.ruleForm.items,function(e,t){return r("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),r("el-form-item",{attrs:{label:"入参",prop:"input"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{type:"text",disabled:!0},model:{value:e.ruleForm.req,callback:function(t){e.$set(e.ruleForm,"req",t)},expression:"ruleForm.req"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"",prop:"param"}},[r("el-input",{attrs:{type:"textarea",autosize:""},model:{value:e.ruleForm.param,callback:function(t){e.$set(e.ruleForm,"param",t)},expression:"ruleForm.param"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"出参",prop:"output"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{type:"text",disabled:!0},model:{value:e.ruleForm.res,callback:function(t){e.$set(e.ruleForm,"res",t)},expression:"ruleForm.res"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("SEND")])],1),e._v(" "),r("hr"),e._v(" "),r("el-form-item",{attrs:{label:"返回结果",prop:"result"}},[r("el-input",{attrs:{type:"textarea",disabled:!0,autosize:""},model:{value:e.ruleForm.result,callback:function(t){e.$set(e.ruleForm,"result",t)},expression:"ruleForm.result"}})],1)],1)],1),e._v(" "),r("div",[r("el-dialog",{attrs:{title:"球队信息",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{staticClass:"demo-ruleForm",attrs:{model:e.ruleForm2,"label-position":"left","label-width":"100px"}},[r("el-form-item",{attrs:{label:"球队名",prop:"teamName"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{type:"text",disabled:!0},model:{value:e.ruleForm2.teamName,callback:function(t){e.$set(e.ruleForm2,"teamName",t)},expression:"ruleForm2.teamName"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"分表ID",prop:"tableId"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{type:"text",disabled:!0},model:{value:e.ruleForm2.tableId,callback:function(t){e.$set(e.ruleForm2,"tableId",t)},expression:"ruleForm2.tableId"}})],1)],1)],1)],1)])},staticRenderFns:[]};var R=r("VU/8")(q,N,!1,function(e){r("r+8K")},"data-v-52f60cb7",null).exports,D={account:"",token:"",env:""},P={data:function(){return{dialogVisible:!1,ruleForm:D,tableData:[],currentRow:null,rules:{account:[{required:!0,message:"请输入accout",trigger:"change"}],token:[{required:!0,message:"请输入token",trigger:"change"}],env:[{required:!0,message:"请输入IP+PORT",trigger:"change"}]}}},computed:{teamId:{get:function(){return this.$store.state.tab.teamId},set:function(e){this.$store.commit("updateTeamId",e)}}},mounted:function(){var e=this;D.account=sessionStorage.getItem("account"),D.token=sessionStorage.getItem("token"),D.env=sessionStorage.getItem("env"),this.teamId=this.$store.state.tab.teamId,this.tableData=[],this.$api.config.getAccount().then(function(t){for(var r=0;r<t.length;r++)e.tableData.push({id:t[r].id,account:t[r].account,token:t[r].token,env:t[r].env})})},methods:{handleClose:function(e){this.$confirm("确认关闭？").then(function(t){e()}).catch(function(e){})},handleEdit:function(e,t){},handleDelete:function(e,t){var r=this,a={id:t.id};this.$api.config.deleteAccount(a).then(function(t){r.$message.success("删除成功！"),r.tableData.splice(e,1)})},handleCurrentChange:function(e){var t=this;this.currentRow=e,D.account=e.account,D.token=e.token,D.env=e.env,sessionStorage.setItem("account",D.account),sessionStorage.setItem("token",D.token),sessionStorage.setItem("env",D.env);var r={account:D.account,token:D.token,env:D.env};this.$api.jk.loginValid(r).then(function(e){e.ret?(t.teamId="请选择账号",t.$message("不能登录")):t.teamId=e.team_id,sessionStorage.setItem("teamId",t.teamId)})},add:function(e){var t=this;this.dialogVisible=!1,this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var r={account:D.account,token:D.token,env:D.env};t.$api.config.addAccount(r).then(function(e){e&&t.tableData.push({id:e,account:D.account,token:D.token,env:D.env})})})},test:function(){}}},E={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",{staticClass:"tag"},[r("el-tag",[e._v(e._s(e.teamId))])],1),e._v(" "),r("div",[r("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"highlight-current-row":""},on:{"current-change":e.handleCurrentChange}},[r("el-table-column",{attrs:{prop:"id",label:"id",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"account",label:"account",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"token",label:"token",width:"180"}}),e._v(" "),r("el-table-column",{attrs:{prop:"env",label:"env"}}),e._v(" "),r("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(r){return e.handleDelete(t.$index,t.row)}}},[e._v("删除")])]}}])})],1)],1),e._v(" "),r("br"),e._v(" "),r("div",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0}}},[e._v("新增")])],1),e._v(" "),r("el-dialog",{attrs:{title:"提示",visible:e.dialogVisible,width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){e.dialogVisible=t}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-position":"left","label-width":"100px"}},[r("el-form-item",{attrs:{label:"ACCOUNT",prop:"account"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{type:"text"},model:{value:e.ruleForm.account,callback:function(t){e.$set(e.ruleForm,"account",t)},expression:"ruleForm.account"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"TOKEN",prop:"token"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{type:"text"},model:{value:e.ruleForm.token,callback:function(t){e.$set(e.ruleForm,"token",t)},expression:"ruleForm.token"}})],1),e._v(" "),r("el-form-item",{attrs:{label:"ENV",prop:"env"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{type:"text"},model:{value:e.ruleForm.env,callback:function(t){e.$set(e.ruleForm,"env",t)},expression:"ruleForm.env"}})],1)],1),e._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("ruleForm")}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var T=r("VU/8")(P,E,!1,function(e){r("IUeE")},"data-v-63f135f6",null).exports,U={data:function(){return{ruleForm:{item:"",teamId:""},ruleForm2:{},tableData:[],multipleSelection:[],num:1,rules:{teamId:[{required:!0,message:"请输入teamId",trigger:"blur"}],item:[{required:!0,message:"请输入道具名称",trigger:"blur"}]}}},methods:{add:function(){var e=this;if(0==this.multipleSelection.length)this.$message("请选择道具");else{var t={teamId:this.ruleForm.teamId,itemIds:this.multipleSelection,num:this.num};this.$api.item.addItems(t).then(function(t){t?e.$message("添加成功"):e.$message("查询不到该玩家")})}},query:function(e){var t=this;this.$refs[e].validate(function(e){if(e){t.tableData=[];var r={name:t.ruleForm.item};t.$api.item.getItems(r).then(function(e){if(0==e.length)t.$message("道具不存在");else for(var r=0;r<e.length;r++)t.tableData.push({itemId:e[r].itemId,name:e[r].name})})}else alert("error")})},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs.multipleTable.toggleRowSelection(e)}):this.$refs.multipleTable.clearSelection()},handleSelectionChange:function(e){this.multipleSelection=[];for(var t=0;t<e.length;t++)this.multipleSelection.push(e[t].itemId)}}},V={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{prop:"teamId"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"teamId"},model:{value:e.ruleForm.teamId,callback:function(t){e.$set(e.ruleForm,"teamId",t)},expression:"ruleForm.teamId"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"item"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"道具"},model:{value:e.ruleForm.item,callback:function(t){e.$set(e.ruleForm,"item",t)},expression:"ruleForm.item"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query("ruleForm")}}},[e._v("查询")])],1)],1)],1),e._v(" "),r("el-table",{ref:"multipleTable",attrs:{data:e.tableData,height:"250","highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[e._v('\r\n    style="width: 100%">\r\n    '),r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{property:"itemId",label:"道具ID",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{property:"name",label:"道具名称",width:"120"}})],1),e._v(" "),r("div",{staticStyle:{"margin-top":"20px"}},[r("el-button",{on:{click:function(t){return e.toggleSelection()}}},[e._v("取消选择")])],1),e._v(" "),r("div",[r("el-input-number",{attrs:{min:1,max:100,label:"描述文字"},model:{value:e.num,callback:function(t){e.num=t},expression:"num"}}),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("add")])],1)],1)},staticRenderFns:[]},A=r("VU/8")(U,V,!1,null,null,null).exports,j="http://192.168.1.211:9005",z={baseUrl:j,backupBaseUrl:"http://localhost:9006"},L={data:function(){return{ruleForm:{tableName:"",checkAll:!1,isIndeterminate:!0,checkedCities:[],cities:[],show:!1},rules:{tableName:[{required:!0,message:"请输入表名",trigger:"blur"}]}}},methods:{handleCheckAllChange:function(e){this.ruleForm.checkedCities=e?this.ruleForm.cities:[],this.ruleForm.isIndeterminate=!1},handleCheckedCitiesChange:function(e){var t=e.length;this.ruleForm.checkAll=t===this.ruleForm.cities.length,this.ruleForm.isIndeterminate=t>0&&t<this.ruleForm.cities.length},daochu:function(e){if(this.ruleForm.checkedCities.length>0){var t=j+"/itemC/exportData?tableStr="+this.ruleForm.checkedCities;window.location.href=t}else this.$message("请选择表")},query:function(e){var t=this;this.$refs[e].validate(function(e){if(e){var r={tableName:t.ruleForm.tableName};t.$api.item.getTables(r).then(function(e){if(t.ruleForm.cities=[],e.length>0){t.ruleForm.show=!0,t.ruleForm.checkedCities=[];for(var r=0;r<e.length;r++)t.ruleForm.cities.push(e[r].TABLE_NAME)}else t.ruleForm.show=!1,t.$message("查不到表")})}else t.$message("error")})}}},B={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{ref:"ruleForm",attrs:{model:e.ruleForm,rules:e.rules}},[r("el-form-item",{attrs:{prop:"tableName"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"table"},model:{value:e.ruleForm.tableName,callback:function(t){e.$set(e.ruleForm,"tableName",t)},expression:"ruleForm.tableName"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query("ruleForm")}}},[e._v("查询")])],1),e._v(" "),r("el-form-item",[r("el-checkbox",{directives:[{name:"show",rawName:"v-show",value:e.ruleForm.show,expression:"ruleForm.show"}],attrs:{indeterminate:e.ruleForm.isIndeterminate},on:{change:e.handleCheckAllChange},model:{value:e.ruleForm.checkAll,callback:function(t){e.$set(e.ruleForm,"checkAll",t)},expression:"ruleForm.checkAll"}},[e._v("全选")])],1),e._v(" "),r("el-form-item",[r("el-checkbox-group",{on:{change:e.handleCheckedCitiesChange},model:{value:e.ruleForm.checkedCities,callback:function(t){e.$set(e.ruleForm,"checkedCities",t)},expression:"ruleForm.checkedCities"}},e._l(e.ruleForm.cities,function(t){return r("el-checkbox",{key:t,attrs:{label:t}},[e._v(e._s(t))])}),1)],1),e._v(" "),r("el-form-item",[r("el-button",{directives:[{name:"show",rawName:"v-show",value:e.ruleForm.show,expression:"ruleForm.show"}],attrs:{type:"primary"},on:{click:function(t){return e.daochu("ruleForm")}}},[e._v("导出")])],1)],1)],1)},staticRenderFns:[]},O=r("VU/8")(L,B,!1,null,null,null).exports,H=(new Date).valueOf(),W={data:function(){return{progressShow:!1,customColor:"#67C23A",percentage:0,websock:null,wsuri:j.replace("http","ws")+"/websocket/"+H,tables:[],sqlName:"",sqls:"",errors:"",show:!1,errorShow:!1,testShow:!1,tableShow:!0,url:j+"/dataC/uploadFile?userId="+H}},mounted:function(){},created:function(){this.initWebSocket()},destroyed:function(){this.websocketclose()},methods:{handleExecute:function(e,t,r,a){var n=this,l={row:y()(t),tableName:r};this.$api.content.executeSql(l).then(function(t){n.$message.success("success!"),n.tables[a].tableData.splice(e,1)})},fileRemove:function(e){this.percentage=0,this.progressShow=!1},fileProgress:function(e){this.progressShow=!0},initWebSocket:function(){this.websock=new WebSocket(this.wsuri),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功")},websocketonerror:function(e){console.log("WebSocket连接发生错误")},websocketonmessage:function(e){console.log(e),this.percentage=parseInt(e.data)},websocketsend:function(e){this.websock.send(e)},websocketclose:function(){this.websock.close(),console.log("connection closed")},downSql:function(){var e=j+"/dataC/downSql?sqlName="+this.sqlName;window.location.href=e},runSql:function(){var e=this,t={sqlName:this.sqlName};this.$api.content.runSql(t).then(function(t){e.$message.success("success");for(var r=0;r<t.length;r++)e.errors=e+t[r]+"\n"})},cellStyle:function(e){var t=e.row,r=(e.column,e.rowIndex,e.columnIndex);if(1==t.test[r])return"background: #FFB5B5"},addClass:function(e){var t=e.row,r=(e.column,e.rowIndex,e.columnIndex);if(1==t.index[r])return"cell-grey"},onCopy:function(e){this.$message.success("内容已复制到剪切板！")},onError:function(e){this.$message.error("抱歉，复制失败！")},success:function(e){this.tables=[],this.sqlName=e.sqlName;for(var t=0;t<e.data.length;t++){var r=e.data[t],a=r.name;this.tables.push({tableName:a,colunmName:[],tableData:[]});for(var n=0;n<r.columns.length;n++)this.tables[t].colunmName.push(r.columns[n]);for(n=0;n<r.data.length;n++){for(var l={},o=[],i=0;i<r.data[n].cells.length;i++){l[r.data[n].cells[i].key]=r.data[n].cells[i].value;var s=r.data[n].cells[i].tag;o.push(s)}l.test=o,this.tables[t].tableData.push(l)}}if(this.sqls="",this.errors="",e.sqls.length>0){this.show=!0;for(n=0;n<e.sqls.length;n++)this.sqls=this.sqls+e.sqls[n]+"\n"}else this.show=!1,this.$message("无数据");if(e.errors.length>0){this.errorShow=!0;for(n=0;n<e.errors.length;n++)this.errors=this.errors+e.errors[n]+"\n"}else this.errorShow=!1},handleExceed:function(e,t){this.$message.warning("当前限制选择 1 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")}}},M={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("div",[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-dark"},[r("div",[r("el-form",[r("el-form-item",[r("el-upload",{staticClass:"upload-demo",attrs:{action:e.url,multiple:"",limit:1,"on-remove":e.fileRemove,"on-success":e.success,"on-progress":e.fileProgress,"on-exceed":e.handleExceed}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("导入")])],1)],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.progressShow,expression:"progressShow"}]},[r("el-progress",{directives:[{name:"show",rawName:"v-show",value:e.progressShow,expression:"progressShow"}],attrs:{percentage:e.percentage,color:e.customColor}})],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[r("el-link",{attrs:{type:"primary"},on:{click:e.downSql}},[e._v(e._s(e.sqlName))])],1)],1)],1),e._v(" "),r("div",[r("el-collapse",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},e._l(e.tables,function(t,a){return r("el-collapse-item",{key:a,attrs:{title:t.tableName+"("+t.tableData.length+")"}},[r("el-table",{attrs:{data:t.tableData,"cell-style":e.cellStyle,"max-height":"500"}},[e._l(t.colunmName,function(e,t){return r("el-table-column",{key:t,attrs:{prop:e,label:e}})}),e._v(" "),e.testShow?r("el-table-column",{attrs:{prop:"test",label:"test"}}):e._e(),e._v(" "),r("el-table-column",{attrs:{label:"operate"},scopedSlots:e._u([{key:"default",fn:function(n){return[r("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(r){return e.handleExecute(n.$index,n.row,t.tableName,a)}}},[e._v("执行")])]}}],null,!0)})],2)],1)}),1)],1)])]),e._v(" "),r("el-col",{attrs:{span:12}},[r("div",{staticClass:"grid-content bg-purple-dark"},[r("el-form",[r("el-form-item",[r("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.runSql}},[e._v("执行")])],1),e._v(" "),r("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.errorShow,expression:"errorShow"}]},[r("el-input",{directives:[{name:"show",rawName:"v-show",value:e.errorShow,expression:"errorShow"}],attrs:{type:"textarea",rows:"5"},model:{value:e.errors,callback:function(t){e.errors=t},expression:"errors"}})],1)],1)],1)])],1)],1),e._v(" "),r("div")])},staticRenderFns:[]};var J=r("VU/8")(W,M,!1,function(e){r("vvvM")},"data-v-3871ef96",null).exports,Q={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("el-form",{attrs:{inline:!0,model:e.ruleForm}},[r("el-form-item",{attrs:{prop:"playerId"}},[r("el-input",{attrs:{placeholder:"playerId"},model:{value:e.ruleForm.playerId,callback:function(t){e.$set(e.ruleForm,"playerId",t)},expression:"ruleForm.playerId"}})],1),e._v(" "),r("el-form-item",{attrs:{prop:"rarity"}},[r("el-select",{attrs:{placeholder:"rarity",clearable:""},model:{value:e.ruleForm.rarity,callback:function(t){e.$set(e.ruleForm,"rarity",t)},expression:"ruleForm.rarity"}},[r("el-option",{attrs:{label:"S+",value:"4"}}),e._v(" "),r("el-option",{attrs:{label:"S",value:"3"}}),e._v(" "),r("el-option",{attrs:{label:"A",value:"2"}}),e._v(" "),r("el-option",{attrs:{label:"B",value:"1"}})],1)],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.query("ruleForm")}}},[e._v("查询")])],1)],1),e._v(" "),r("el-table",{ref:"multipleTable",attrs:{data:e.tableData,"highlight-current-row":""},on:{"selection-change":e.handleSelectionChange}},[e._v('\r\n        style="width: 100%">\r\n        '),r("el-table-column",{attrs:{type:"selection",width:"50"}}),e._v(" "),r("el-table-column",{attrs:{property:"playerId",label:"playerId",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{property:"model",label:"model",width:"120"}}),e._v(" "),r("el-table-column",{attrs:{property:"englishName",label:"englishName"}})],1),e._v(" "),r("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],staticClass:"my_pagination",attrs:{"current-page":e.current,"page-sizes":[10,20,50],"page-size":e.size,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),r("el-form",{ref:"addForm",staticStyle:{"margin-top":"20px"},attrs:{model:e.addForm,rules:e.rules}},[r("el-form-item",{attrs:{label:"球队ID",prop:"teamId"}},[r("el-input",{staticStyle:{width:"250px"},attrs:{placeholder:"teamId"},model:{value:e.addForm.teamId,callback:function(t){e.$set(e.addForm,"teamId",t)},expression:"addForm.teamId"}})],1),e._v(" "),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.add("addForm")}}},[e._v("Add")])],1)],1)],1)},staticRenderFns:[]},K=r("VU/8")({data:function(){return{ruleForm:{playerId:"",rarity:""},addForm:{teamId:""},tableData:[],current:1,size:10,total:1e3,show:!1,multipleSelection:[],rules:{teamId:[{required:!0,message:"请输入teamId",trigger:"blur"}]}}},methods:{query:function(e){this.getData("1",this.size)},getData:function(e,t){var r=this;this.tableData=[];var a={playerId:this.ruleForm.playerId,rarity:this.ruleForm.rarity,page:e,pageRow:t};this.$api.player.getPlayers(a).then(function(e){if(r.total=e.totalRows,r.current=e.page,r.show=!0,e.list.length>0)for(var t=0;t<e.list.length;t++)r.tableData.push({playerId:e.list[t].player_id,model:e.list[t].model,englishName:e.list[t].english_name})})},add:function(e){var t=this;this.$refs[e].validate(function(e){if(e)if(0==t.multipleSelection.length)t.$message("请选择球员");else{var r={playerIds:t.multipleSelection,teamId:t.addForm.teamId};t.$api.player.addPlayers(r).then(function(e){e?t.$message.success("添加成功"):t.$message("查询不到该玩家")})}})},handleSelectionChange:function(e){this.multipleSelection=[];for(var t=0;t<e.length;t++)this.multipleSelection.push(e[t].playerId)},handleSizeChange:function(e){this.size=e,this.getData(this.current,this.size)},handleCurrentChange:function(e){this.getData(e,this.size)}}},Q,!1,null,null,null).exports,G={fileList:[],fileProtoList:[],tableTreeDdata:[],url:j+"/config/uploadFile?dir=config",url2:j+"/config/uploadFile?dir=proto"},Y={data:function(){return G},mounted:function(){var e=this;this.fileList=[],this.$api.jk.getConfigFile().then(function(t){for(var r=0;r<t.length;r++)if(1==t[r].type)for(var a=0;a<t[r].fileNames.length;a++)e.fileList.push({name:t[r].fileNames[a],url:"url"});else for(a=0;a<t[r].fileNames.length;a++)e.fileProtoList.push({name:t[r].fileNames[a],url:"url"})})},methods:{reboot:function(){var e=this;this.$api.config.rebootServer().then(function(t){e.$message.success("服务已重启，刷新页面使用")})},handleRemove:function(e,t){this.fileList=t;var r={fileName:e.name,dir:"config"};this.$api.jk.deleteFile(r).then(function(e){}),console.log(e,t)},handleRemove2:function(e,t){this.fileProtoList=t;var r={fileName:e.name,dir:"proto"};this.$api.jk.deleteFile(r).then(function(e){}),console.log(e,t)},handlePreview:function(e){console.log(e)},handlePreview2:function(e){console.log(e)},handleExceed:function(e,t){this.$message.warning("当前限制选择 2 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},handleExceed2:function(e,t){this.$message.warning("当前限制选择 100 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},beforeRemove2:function(e,t){return this.$confirm("确定移除 "+e.name+"？")}}},X={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"config"},[r("div",[r("el-button",{attrs:{type:"primary"},on:{click:e.reboot}},[e._v("重启服务")])],1),e._v(" "),r("hr"),e._v(" "),r("div",[r("el-upload",{staticClass:"upload-demo",attrs:{action:e.url,"on-preview":e.handlePreview,"on-remove":e.handleRemove,"before-remove":e.beforeRemove,multiple:"",limit:2,"on-exceed":e.handleExceed,"file-list":e.fileList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传jar文件，且不超过500kb")])],1)],1),e._v(" "),r("hr"),e._v(" "),r("div",[r("el-upload",{staticClass:"upload-demo",attrs:{action:e.url2,"on-preview":e.handlePreview2,"on-remove":e.handleRemove2,"before-remove":e.beforeRemove2,multiple:"",limit:100,"on-exceed":e.handleExceed2,"file-list":e.fileProtoList}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")]),e._v(" "),r("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v("只能上传proto文件，且不超过500kb")])],1)],1),e._v(" "),r("hr")])},staticRenderFns:[]};var Z=r("VU/8")(Y,X,!1,function(e){r("uz0/")},"data-v-2d442dc6",null).exports,ee={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-container",staticStyle:{width:"99%","margin-top":"15px"}},[r("el-carousel",{staticClass:"carousel",attrs:{interval:3e3,type:"card",height:"450px"}},[r("el-carousel-item",{staticClass:"carousel-item-intro"},[r("h2",[e._v("项目介绍")]),e._v(" "),r("ul",[r("li",[e._v("xxx")])])]),e._v(" "),r("el-carousel-item",{staticClass:"carousel-item-func"},[r("h2",[e._v("功能计划")]),e._v(" "),r("ul",[r("li",[e._v("✔ 接口管理")])])]),e._v(" "),r("el-carousel-item",{staticClass:"carousel-item-env"},[r("h2",[e._v("其它")]),e._v(" "),r("ul",[r("li",[e._v("xxx")])])])],1)],1)},staticRenderFns:[]};var te=r("VU/8")({components:{},methods:{}},ee,!1,function(e){r("lwed")},null,null).exports;s.default.use(m.a);var re=new m.a({routes:[{path:"/",name:"首页",component:k,children:[{path:"",name:"系统介绍",component:te,meta:{icon:"fa fa-home fa-lg",index:0}},{path:"/interface/test",name:"test",component:R,meta:{icon:"fa fa-home fa-lg",index:1}},{path:"/interface/config",name:"config",component:Z,meta:{icon:"fa fa-home fa-lg",index:2}},{path:"/interface/user",name:"user",component:T,meta:{icon:"fa fa-home fa-lg",index:3}},{path:"/service/item",name:"item",component:A,meta:{icon:"fa fa-home fa-lg",index:4}},{path:"/service/player",name:"player",component:K,meta:{icon:"fa fa-home fa-lg",index:5}},{path:"/content/daochu",name:"daochu",component:O,meta:{icon:"fa fa-home fa-lg",index:6}},{path:"/content/daoru",name:"daoru",component:J,meta:{icon:"fa fa-home fa-lg",index:7}}]}]});re.beforeEach(function(e,t,r){r()});var ae=re,ne=r("zL8q"),le=r.n(ne),oe=r("HSQo"),ie=r.n(oe),se=r("//Fk"),ue=r.n(se),ce=r("mtWM"),me=r.n(ce),de={method:"get",baseUrl:j,headers:{"Content-Type":"application/json;charset=UTF-8"},data:{},timeout:1e4,withCredentials:!0,responseType:"json"};r("lbHh");me.a.withCredentials=!0;var he=r("mw3O");function fe(e){var t={baseURL:de.baseUrl,headers:de.headers,timeout:de.timeout,responseType:"json",paramsSerializer:function(e){return he.stringify(e,{arrayFormat:"repeat"})}};return"/itemC/exportData"!=e.url&&"/dataC/downSql"!=e.url||(t.responseType="blob"),new ue.a(function(r,a){var n=me.a.create(t);n.interceptors.request.use(function(e){return e},function(e){console.log("request:",e),"ECONNABORTED"===e.code&&-1!==e.message.indexOf("timeout")&&console.log("timeout请求超时");var t=e.response;if(console.log(t),t){e=t.data;var r=t.status;ae.push({path:"/error/"+r})}return ue.a.reject(e)}),n.interceptors.response.use(function(e){return e.data},function(e){if(e&&e.response)switch(e.response.status){case 400:e.message="请求错误";break;case 401:e.message="未授权，请登录";break;case 403:e.message="拒绝访问";break;case 404:e.message="请求地址出错: "+e.response.config.url;break;case 408:e.message="请求超时";break;case 500:e.message="服务器内部错误";break;case 501:e.message="服务未实现";break;case 502:e.message="网关错误";break;case 503:e.message="服务不可用";break;case 504:e.message="网关超时";break;case 505:e.message="HTTP版本不受支持"}return console.error(e),ue.a.reject(e)}),n(e).then(function(e){return r(e),!1}).catch(function(e){a(e)})})}var pe=function(e){return fe({url:"/jk/select",method:"get",params:e})},ve=function(e){return fe({url:"/jk/getInputParam",method:"get",params:e})},ge=function(e){return fe({url:"/jk/getConfigFile",method:"get",params:e})},be=function(e){return fe({url:"/jk/getData",method:"get",params:e})},_e=function(e){return fe({url:"/jk/loginValid",method:"get",params:e})},we=function(e){return fe({url:"/jk/deleteFile",method:"get",params:e})},ke=function(e){return fe({url:"/jk/deleteProtoFile",method:"get",params:e})},Fe=function(e){return fe({url:"/jk/getTeamInfo",method:"get",params:e})},ye=function(e){return fe({url:"/itemC/getItems",method:"get",params:e})},xe=function(e){return fe({url:"/itemC/addItems",method:"get",params:e})},Ie=function(e){return fe({url:"/itemC/getTables",method:"get",params:e})},$e=function(e){return fe({url:"/itemC/exportData",method:"get",params:e})},Ce=function(e){return fe({url:"/config/getAccount",method:"get",params:e})},Se=function(e){return fe({url:"/config/addAccount",method:"get",params:e})},qe=function(e){return fe({url:"/config/deleteAccount",method:"get",params:e})},Ne=function(e){return fe({url:"/config/rebootServer",method:"get",params:e})},Re=function(e){return fe({url:"/dataC/runSql",method:"get",params:e})},De=function(e){return fe({url:"/dataC/executeSql",method:"get",params:e})},Pe=function(e){return fe({url:"/playerC/getPlayers",method:"get",params:e})},Ee=function(e){return fe({url:"/playerC/addPlayers",method:"get",params:e})},Te={jk:a,item:n,config:l,content:o,player:i},Ue=function e(t){e.installed||(e.installed=!0,ie()(t.prototype,{$api:{get:function(){return Te}}}))},Ve=r("NYxO"),Ae={state:{teamId:null==sessionStorage.getItem("teamId")?"请选择账号":sessionStorage.getItem("teamId"),visible:!1},mutations:{updateTeamId:function(e,t){e.teamId=t},updateVisible:function(e,t){e.visible=t}}};s.default.use(Ve.a);var je=new Ve.a.Store({modules:{tab:Ae}}),ze=(r("tvR6"),r("wvfG")),Le=r.n(ze);s.default.config.productionTip=!1,s.default.use(le.a),s.default.use(Ue),s.default.use(Le.a),s.default.prototype.global=z,new s.default({el:"#app",router:ae,store:je,components:{App:c},template:"<App/>"})},PJow:function(e,t){},UIAq:function(e,t){},jvRC:function(e,t){},lwed:function(e,t){},oOal:function(e,t){},"r+8K":function(e,t){},tvR6:function(e,t){},"uz0/":function(e,t){},vTnW:function(e,t){},vvvM:function(e,t){}},["NHnr"]);